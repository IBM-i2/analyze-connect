<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Postman </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Postman ">
    <meta name="generator" content="docfx 2.56.2.0">
    
    <link rel="shortcut icon" href="../../images/favicon.png">
    <link rel="stylesheet" href="../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../styles/docfx.css">
    <link rel="stylesheet" href="../../styles/main.css">
    <meta property="docfx:navrel" content="../../toc.html">
    <meta property="docfx:tocrel" content="../../guidetoc/toc.html">
    
    <meta property="docfx:rel" content="../../">
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../../index.html">
                <strong>i2 Connect gateway</strong>
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
      </header>
      <div class="container body-content">
        
        <div id="search-results">
          <div class="search-list"></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
          
          <div class="subnav navbar navbar-default">
            <div class="container hide-when-search" id="breadcrumb">
              <ul class="breadcrumb">
                <li></li>
              </ul>
            </div>
          </div>
            <article class="content wrap" id="_content" data-uid="">
<h1 id="postman">Postman</h1>

<p>You can use Postman collections to test the endpoints of i2 Analyze and your connector.</p>
<h2 id="prerequisites">Prerequisites</h2>
<ul>
<li>Install the latest version of Postman</li>
<li>Import the Postman environments from the <code>postman/environments</code> directory in this repository</li>
<li>Import the Postman collections from the <code>postman/collections</code> directory in this repository</li>
</ul>
<p>To import the environments and collections:</p>
<ol>
<li>Click <strong>Import</strong>, or click <strong>File -&gt; Import</strong></li>
<li>In the <strong>Import Folder</strong> tab, click <strong>Choose Folders</strong></li>
<li>Select the <code>postman</code> directory that you downloaded from this repository</li>
</ol>
<p>The Postman collections are displayed in the left pane and a populated dropdown list of environments near the top right of the window.</p>
<p><img src="images/postman.png" alt="Example Data"></p>
<h2 id="testing-i2-analyze">Testing i2 Analyze</h2>
<p>To make sure that i2 Analyze is configured correctly, authenticate a user and test the API.</p>
<h3 id="authentication">Authentication</h3>
<ol>
<li>Click on the environment dropdown menu at the top-right bar:<ul>
<li>If you have <a href="../walkthrough/2-deploy-i2-analyze.html">deployed i2 Analyze with the i2 Connect gateway</a>, select the <code>i2 Analyze with i2 Connect Gateway</code> environment.</li>
<li>If you have <a href="deploy-i2-analyze-is-daod.html">deployed i2 Analyze with the Information Store and the i2 Connect gateway</a>, select the <code>i2 Analyze with InfoStore and Gateway</code> environment.</li>
</ul>
</li>
<li>Open the <code>i2 Analyze</code> collection.</li>
<li>Open the <code>Authentication</code> folder.</li>
<li>Run the <code>Form Based Login</code> request.</li>
</ol>
<p>This authenticates your Jenny user, and generates the session token to permit subsequent API requests.</p>
<h3 id="api">API</h3>
<p>After generating the token, test that you can use the i2 Analyze endpoints.</p>
<h4 id="get-all-valid-time-zones">Get all valid time zones</h4>
<ol>
<li>In the <code>i2 Analyze</code> collection, open the <code>Core</code> folder.</li>
<li>Run the <code>Timezones</code> request.</li>
</ol>
<p>You should see that i2 Analyze returns all valid time zones.</p>
<p>For more information about the <code>GET /api/v1/core/temporal/timezones</code> endpoint, refer to the <a href="https://docs.i2group.com/analyze/public-rest-api.html#get-/api/v1/core/temporal/timezones">REST API documentation</a>.</p>
<h4 id="reload-connectors-configuration">Reload connectors configuration</h4>
<ol>
<li>In the <code>i2 Analyze</code> collection, open the <code>Gateway</code> folder.</li>
<li>Run the <code>Reload</code> request.</li>
</ol>
<p>You should see that i2 Analyze returns its connectors configuration.</p>
<p>For more information about the <code>POST /api/v1/gateway/reload</code> endpoint, refer to the <a href="https://docs.i2group.com/analyze/public-rest-api.html#post-/api/v1/gateway/reload">REST API documentation</a>.</p>
<h4 id="reload-live-configuration">Reload live configuration</h4>
<ol>
<li>Ensure you are <a href="#authentication">authenticated</a> as the <code>Administrator</code> user (Jenny).</li>
<li>In the <code>i2 Analyze</code> collection, open the <code>Admin</code> folder.</li>
<li>Run the <code>Reload</code> request.</li>
</ol>
<p>A <code>200 OK</code> response indicates that the live configuration was loaded successfully.</p>
<p>For more information about the <code>POST /api/v1/admin/config/reload</code> endpoint, refer to the <a href="https://docs.i2group.com/analyze/public-rest-api.html#post-/api/v1/admin/config/reload">REST API documentation</a>.</p>
<h2 id="testing-a-connector">Testing a connector</h2>
<p>Before you test your connector, ensure that both i2 Analyze and your connector are running. In this example, the NYPD connector is tested. For more information, see <a href="../example-connectors/connector-nypd.html">Setting up and running the NYPD connector</a>.</p>
<ol>
<li>From the environment dropdown menu, select the <code>NYPD Connector</code> environment.</li>
<li>Open the <code>Connector Services</code> collection.</li>
</ol>
<h3 id="config-and-schema-requests">Config and schema requests</h3>
<ol>
<li>In the <code>Connector Services</code> collection, open the <code>Config</code> folder.</li>
<li>Run the <code>Config</code> request.</li>
</ol>
<p>The response provided should be the full contents of the connector&#39;s <code>config.json</code>.</p>
<p>The <code>Schema</code> and <code>Charting Schemes</code> requests should echo the contents of your connector schema and charting schemes XML files respectively.</p>
<h3 id="acquire-requests">Acquire requests</h3>
<p>The <code>Acquire</code> folder contains requests that respond with entities and links according to how their respective endpoints were implemented.</p>
<p>Using the NYPD connector example:</p>
<h4 id="all">All</h4>
<p>The <code>All</code> request synchronously returns all entities and links from the NYPD dataset as a JSON response.</p>
<h4 id="search">Search</h4>
<p>The <code>Search</code> request is a <a href="../walkthrough/6-parameterised-search.html">parameterized search</a> accepts a JSON payload of specified conditions which filter the results returned.</p>
<p><img src="images/postman-search.png" alt="Search Request"></p>
<p>The values of each condition can be changed to imitate user input from the client for a condition field.</p>
<h4 id="find-like-this">Find Like This</h4>
<p>The <code>Find Like This</code> request is a <a href="../walkthrough/7-seeded-search.html">seeded search</a> that accepts a JSON payload of a single seed entity with a property that is used to filter the JSON response by matching against entities with a similar property.</p>
<h4 id="expand">Expand</h4>
<p>The <code>Expand</code> request is a <a href="../walkthrough/7-seeded-search.html">seeded search</a> that accepts a JSON payload of a single seed entity used as a starting point to find other entities connected to it and the links that connect them. These entities and links are returned in the response in JSON format.</p>
<h3 id="validate-requests">Validate requests</h3>
<p>The <code>Validate</code> folder contains a single <code>Search</code> request that <a href="../walkthrough/9-validation.html">performs server-side validation</a> on the payload of specified conditions to ensure input values are in the correct format.</p>
<h3 id="async-requests">Async requests</h3>
<p>The <code>Async</code> folder contains requests for the asynchronous service. These requests only function as expected on the Async connector. For more information, see <a href="../example-connectors/connector-async.html">setting up and running the Async connector</a></p>
<h4 id="acquire">Acquire</h4>
<p>The <code>Acquire</code> request triggers an asynchronous query and returns a <code>queryId</code>. Using Postman tests (post-request logic), this <code>queryId</code> is automatically stored as an environment variable (<code>queryId</code>) to facilitate subsequent async requests.</p>
<p><img src="images/postman-async-acquire.png" alt="Async Acquire Request"></p>
<p>The request accepts a payload of parameters for simulating the asynchronous request; configuring the duration of time before succeeding and optionally mocking a failure.</p>
<h4 id="status">Status</h4>
<p>Using the <code>queryId</code> retrieved from the previous request, the <code>Status</code> retrieves the current status and additional information of the triggered asynchronous query as a JSON response.</p>
<p><img src="images/postman-async-status.png" alt="Status Request"></p>
<h4 id="results">Results</h4>
<p>Using the same <code>queryId</code> from the async acquire, the <code>Results</code> retrieves the JSON response of entities and links from the asynchronous query as you would expect from a synchronous request.</p>
<p>This request only works as expected after the status of the query is <code>SUCCEEDED</code>.</p>
<h4 id="delete--cancel">Delete / Cancel</h4>
<p>Using the <code>queryId</code>, the <code>Delete / Cancel</code> request deletes an asynchronous query if its state is <code>SUCCEEDED</code> or <code>FAILED</code>. It cancels the running job if it was <code>STARTED</code>, causing it to be <code>FAILED</code>.</p>
<h3 id="auth-requests">Auth requests</h3>
<p>The <code>Auth</code> folder contains requests for the services which require authentication. These requests only function as expected on the Auth connector. For more information, see <a href="../example-connectors/connector-auth.html">setting up and running the Auth connector</a></p>
<h4 id="login">Login</h4>
<p>There are two <code>Login</code> requests for the two example authentication configurations specified in the connector configuration of the Auth connector. One logs in using sample username and password credentials; the other logs in using a sample API key.</p>
<p>The post-request logic stores the <code>authToken</code> which the connector responds with on a successful log-in. This <code>authToken</code> is used for subsequent requests.</p>
<h4 id="acquire--acquire-async">Acquire &amp; Acquire Async</h4>
<p>These requests are just like the <a href="#acquire-requests">synchronous acquire</a> and <a href="#acquire">asynchronous acquire</a> requests except that they include the generated <code>authToken</code> from the <a href="#login">login</a> requests in the <code>Authorization</code> header of their requests.</p>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            &copy; N. Harris Computer Corporation.
            
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../styles/main.js"></script>
  </body>
</html>
